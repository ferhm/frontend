{"version":3,"sources":["./src/app/pages/prize-list/prize-type-modal/prize-type-modal.component.ts","./src/app/pages/prize-list/services/reward.service.ts","./src/app/pages/prize-list/prize-type-modal/prize-type-modal.component.scss","./src/app/pages/prize-list/prize-type-modal/prize-type-modal.component.html"],"names":[],"mappings":"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","file":"default-src_app_pages_prize-list_prize-type-modal_prize-type-modal_component_ts.js","sourcesContent":["import { environment } from './../../../../environments/environment';\nimport { RewardService } from './../services/reward.service';\nimport { GlobalDataService } from './../../../shared/services/globalData/global-data.service';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-prize-type-modal',\n  templateUrl: './prize-type-modal.component.html',\n  styleUrls: ['./prize-type-modal.component.scss'],\n})\nexport class PrizeTypeModalComponent implements OnInit {\n\n  @Input() type;\n  @Input() typeOptions;\n  @Input() product;\n  @Output() eventFunction = new EventEmitter<any>();\n\n  units: number = 1;\n  loadingContent: boolean;\n  officeData: any;\n\n  environment = environment;\n  constructor(\n    private modalCtrl: ModalController,\n    public globalDataService: GlobalDataService,\n    private rewardService: RewardService,\n  ) { }\n\n  ngOnInit() {\n    this.getUserOffice();\n  }\n  \n  dismissModal() {\n    this.eventFunction.emit();\n    this.modalCtrl.dismiss();\n  }\n\n  save() {\n    this.eventFunction.emit(this.officeData);\n    this.modalCtrl.dismiss();\n  }\n\n  async getUserOffice() {\n    try {\n      this.loadingContent = true;\n      this.officeData = await this.rewardService.getUserOffice().toPromise();\n      console.log('Office Data ', this.officeData);\n      this.loadingContent = false;\n    } catch (error) {\n      console.log(error);\n      this.loadingContent = false;\n    }\n  }\n\n}\n","import { HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ApiService } from 'src/app/shared/services/api/api.service';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError,  } from 'rxjs/operators';\nimport { RequestEndpoints } from 'src/app/shared/config/constants/api.constants';\nimport { GlobalDataService } from 'src/app/shared/services/globalData/global-data.service';\nimport { environment } from 'src/environments/environment';\nimport { Reward } from 'src/app/shared/models/reward.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RewardService {\n\n  constructor(\n    private apiService: ApiService,\n    private globalData: GlobalDataService,\n  ) { }\n\n  getUserRewards(currentElement, elementsPerPage): Observable<any>{\n    let httpParams = new HttpParams();\n    httpParams = httpParams.append('currentElement', currentElement);\n    httpParams = httpParams.append('elementsPerPage', elementsPerPage);\n    return this.apiService.get(environment.API_URL + RequestEndpoints.GET_REWARDS, httpParams).pipe(\n      map(async (data: any) => {\n        return data;\n    }),catchError(error => throwError(error)));\n  }\n  \n  getUserReward(id): Observable<any>{\n    let httpParams = new HttpParams();\n    httpParams = httpParams.append('id', id);\n    return this.apiService.get(environment.API_URL + RequestEndpoints.GET_REWARD, httpParams).pipe(\n      map(async (data: any) => {\n        return data;\n      }),catchError(error => throwError(error)));\n  }\n    \n  getUserOffice(): Observable<any>{\n    let httpParams = new HttpParams();\n    return this.apiService.get(environment.API_URL + RequestEndpoints.GET_USER_OFFICE, httpParams).pipe(\n      map(async (data: any) => {\n        return data;\n      }),catchError(error => throwError(error)));\n  }\n\n  redeemReward(id): Observable<any>{\n    let httpParams = new HttpParams();\n    httpParams = httpParams.append('id', id);\n    return this.apiService.post(environment.API_URL + RequestEndpoints.REDEEM_REWARD, httpParams).pipe(\n      map(async (data: any) => {\n        return data;\n      }),catchError(error => throwError(error)));\n  }\n}\n","export default \".top-right {\\n  position: absolute;\\n  top: 18px;\\n  right: 20px;\\n  font-size: 30px;\\n  color: #999999;\\n}\\n\\n.content {\\n  margin: 30px 40px 30px 30px;\\n}\\n\\n.content .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  text-align: center;\\n}\\n\\n.content .product-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  margin: 20px;\\n}\\n\\n.content .product-wrapper ion-img {\\n  width: 120px;\\n  min-width: 100px;\\n  margin-right: 25px;\\n  border: 3px solid var(--ion-color-primary);\\n}\\n\\n.content .product-wrapper p {\\n  font-weight: bold;\\n  color: black;\\n  font-size: 18px;\\n}\\n\\n.content .direction-wrapper {\\n  margin-top: 30px;\\n  margin-left: 20px;\\n  color: black;\\n}\\n\\n.content .direction-wrapper .divider {\\n  height: 1px;\\n  background: var(--ion-color-tertiary);\\n  margin: 10px;\\n}\\n\\n.content .direction-wrapper .direction-title {\\n  font-weight: bolder;\\n}\\n\\n.content .thin-button {\\n  margin-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByaXplLXR5cGUtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFQTtFQUNJLDJCQUFBO0FBQ0o7O0FBQ0k7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNSOztBQUVJO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0FBQVI7O0FBRVE7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQVo7O0FBR1E7RUFDSSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBRFo7O0FBS0k7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQUhSOztBQUtRO0VBQ0ksV0FBQTtFQUNBLHFDQUFBO0VBQ0EsWUFBQTtBQUhaOztBQU1RO0VBQ0ksbUJBQUE7QUFKWjs7QUFZSTtFQUNJLGlCQUFBO0FBVlIiLCJmaWxlIjoicHJpemUtdHlwZS1tb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b3AtcmlnaHQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxOHB4O1xyXG4gICAgcmlnaHQ6IDIwcHg7XHJcbiAgICBmb250LXNpemU6IDMwcHg7XHJcbiAgICBjb2xvcjogIzk5OTk5OTtcclxufVxyXG5cclxuLmNvbnRlbnR7XHJcbiAgICBtYXJnaW46IDMwcHggNDBweCAzMHB4IDMwcHg7XHJcblxyXG4gICAgLnRpdGxle1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAucHJvZHVjdC13cmFwcGVye1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgbWFyZ2luOiAyMHB4O1xyXG5cclxuICAgICAgICBpb24taW1ne1xyXG4gICAgICAgICAgICB3aWR0aDogMTIwcHg7XHJcbiAgICAgICAgICAgIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjVweDtcclxuICAgICAgICAgICAgYm9yZGVyOiAzcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZGlyZWN0aW9uLXdyYXBwZXJ7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgICAgICBjb2xvcjogYmxhY2s7XHJcblxyXG4gICAgICAgIC5kaXZpZGVye1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDFweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcclxuICAgICAgICAgICAgbWFyZ2luOiAxMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmRpcmVjdGlvbi10aXRsZXtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAuZGlyZWN0aW9uLWRlc2NyaXB0aW9ue1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC50aGluLWJ1dHRvbntcclxuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ== */\";","export default \"<ion-icon class=\\\"top-right\\\" name=\\\"close-outline\\\" (click)=\\\"dismissModal()\\\"></ion-icon>\\n\\n<div class=\\\"content\\\">\\n  <p class=\\\"title\\\">{{ 'PAGES.PRIZES.DETAIL.MODAL.ORDER' | translate }}</p>\\n\\n  <div class=\\\"product-wrapper\\\">\\n    <ion-img [src]=\\\"environment.API_URL_BACKOFFICE+'/image/'+product?.imageURL\\\"></ion-img>\\n    <p>{{product?.title}}</p>\\n  </div>\\n\\n  <ion-item class=\\\"login-item\\\">\\n    <ion-label position=\\\"stacked\\\">{{ 'PAGES.PRIZES.DETAIL.MODAL.UNITS' | translate }}</ion-label>\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"units\\\" disabled></ion-input>\\n  </ion-item>\\n\\n  <div class=\\\"direction-wrapper\\\" *ngIf=\\\"loadingContent; else showContent\\\">\\n    <p><ion-skeleton-text animated style=\\\"width: 100%; height: 30px;\\\"></ion-skeleton-text></p>\\n    <p><ion-skeleton-text animated style=\\\"width: 100%; height: 30px;\\\"></ion-skeleton-text></p>\\n    <div class=\\\"divider\\\"></div>\\n    <p><ion-skeleton-text animated style=\\\"width: 100%; height: 30px;\\\"></ion-skeleton-text></p>\\n    <p><ion-skeleton-text animated style=\\\"width: 100%; height: 30px;\\\"></ion-skeleton-text></p>\\n  </div>\\n\\n  <ng-template #showContent>\\n    <div class=\\\"direction-wrapper\\\">\\n      <p class=\\\"direction-title\\\">{{globalDataService?.userSession?.name}} {{globalDataService?.userSession?.surname}}</p>\\n      <p class=\\\"direction-description\\\">{{globalDataService?.userSession?.email}}</p>\\n      <div class=\\\"divider\\\"></div>\\n      <p class=\\\"direction-title\\\">{{officeData?.officeTitle}}</p>\\n      <p class=\\\"direction-description\\\">{{officeData?.officeDirection}}</p>\\n    </div>\\n  </ng-template>\\n\\n  <ion-button class=\\\"thin-button\\\" [disabled]=\\\"loadingContent\\\" (click)=\\\"save()\\\" expand=\\\"block\\\">\\n    <p>{{ 'PAGES.PRIZES.MODAL.GUARDAR' | translate }}</p>\\n    <ion-spinner name=\\\"crescent\\\" *ngIf=\\\"loadingContent\\\"></ion-spinner>\\n  </ion-button>\\n</div>\\n\";"],"sourceRoot":"webpack:///"}